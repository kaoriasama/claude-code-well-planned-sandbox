# Project Guidelines

## Environment
- Your device products（Your device spec information）
- Language: 日本語で対話・コメント記述

## Safety Constraints
この環境は「速度より安全性」を優先する。
- 大きなファイルは分割処理（バッチ100件目安）
- ファイル読み込み前にサイズ確認: `ls -lh`
- 全ての Bash コマンドはユーザーの許可を得てから実行
- 作業ディレクトリ外へのアクセスは行わない
- 不明点があれば実行前に確認する

## Data Flow
- Input: ./input/
- Output: ./output/
- Workspace: ./workspace/

## Planning Flow

### 参照先
`PLANNING_FLOW.md`（ワークスペースルートに常設）

### いつ使うか
以下のいずれかに該当するタスクを受けた場合、実行前に PLANNING_FLOW.md に従って計画を策定する。
- 複数ステップの作業を伴う
- ファイルの作成・変更・削除を伴う
- 外部リソース（API、Web、データセット）へのアクセスを伴う
- 失敗時の手戻りコストが高い
- ユーザーが明示的に計画を求めた

以下の場合は計画フローを使わず直接実行してよい。
- 単発の質問への回答
- 既存ファイルの閲覧のみ
- 自明な単一コマンドの実行
- ユーザーが明示的に計画を省略した
判断に迷う場合は、計画の要否自体をユーザーに確認する。

### どう使うか
- フローを機械的にたどらない。タスクの性質に応じて項目の省略・フェーズの跳躍・回帰を判断する。
- 各フェーズの要点をユーザーに提示し、対話的に進める。一方的に全項目を埋めない。
- Phase 3-2 でユーザーの明示的な承認を得るまで実行に移らない。
- 計画の最終版はタスクのワークスペース内にファイルとして保存する。

### 実行中の規律
- 計画からの逸脱が生じた場合、逸脱の内容と理由をユーザーに報告し、必要に応じて計画を修正する。計画修正時は再承認を得る。
- Phase 5（完了と振り返り）を省略しない。特に Lessons Learned の追記判断は毎回行う。


## Lessons Learned
<!-- セッションで学んだ教訓を記録 -->
